<div *ngIf="loggedInUser">
  <h4 class="mb-3 mb-md-0">Edit Profile</h4>
  <form class="mt-3" enctype="multipart/form-data" [formGroup]="profileEditForm" (ngSubmit)="UpdateProfile()">

    <div class="row">
      <div class="col-md-6">

        <div class="form-group">
          <label class="form-label">User Name</label>
          <input type="text" class="form-control" readonly formControlName="UserName">
        </div>

        <div class="form-group">
          <label class="form-label" for="exampleInputLastName">Email</label>
          <input type="text" class="form-control" placeholder="Email Name"
            formControlName="Email">
          <span *ngIf="profileEditForm.get('Email').invalid && profileEditForm.get('Email').touched"
            class="text-danger">* Email Name is required</span>
        </div>

        <div class="form-group">
          <label class="form-label" for="exampleInputFirstName">First Name</label>
          <input type="text" class="form-control" placeholder="First Name"
            formControlName="FirstName">
          <span *ngIf="profileEditForm.get('FirstName').invalid && profileEditForm.get('FirstName').touched"
            class="text-danger">* First Name is required</span>

        </div>

        <div class="form-group">
          <label class="form-label" for="exampleInputLastName">Last Name</label>
          <input type="text" class="form-control" placeholder="Last Name"
            formControlName="LastName">
          <span *ngIf="profileEditForm.get('LastName').invalid && profileEditForm.get('LastName').touched"
            class="text-danger">* Last Name is required</span>
        </div>
      </div>
      
      <div class="col-md-6">
        <div class="form-group text-center">
          <label class="form-label d-block" for="customFile">Upload Profile Image</label>
            <img [src]="thumbnail" class="rounded-circle mb-3 mt-2" height="300px" width="300px" alt="User Profile">

            <a (click)="fileUpload.click()" class="d-block"><i class="feather icon-upload icon-lg text-muted"
                ngbTooltip="Upload Profile Image"></i></a>

            <input type="file" class="form-control" #fileUpload hidden (change)="onFileChanged($event)"
              accept=".jpg,.png,.jpeg" />
        </div>
      </div>
      
    </div>

    <div class="mt-3">
      <button type="submit" class="btn btn-primary mr-2 mb-2 mb-md-0"
        [disabled]="!((profileEditForm.valid && profileEditForm.dirty) || file)">Save</button>
      <a class="btn btn-danger mr-2 mb-2 mb-md-0" (click)="openBasicModal(changePasswordModal)">Change Password</a>
    </div>

  </form>
</div>

<!-- Leave from group Modal -->
<ng-template #changePasswordModal let-modal>
  <app-change-password-modal [modal]="modal"></app-change-password-modal>
</ng-template>